<main>
    <section class="section section-shaped-answers section-lg page">
        <div class="shape shape-style-1 bg-gradient-default">
            <span></span>
            <span></span>
            <span></span>
            <span></span>
            <span></span>
            <span></span>
            <span></span>
            <span></span>
        </div>
        <div class="container pt-lg-md-answers">
            <div class="row justify-content-center animate__animated animate__backInLeft">
                <div class="col-lg-12">

                    <div class="card bg-secondary shadow border-0">

                        <div class="card-header bg-white">
                            <div class="text-muted text-center">

                                <div class="row">
                                    <div *ngIf="toggle" class="col-1" ngbDropdown>
                                        <button class="navbar-toggler mt-2" type="button" id="dropdownMenuButton" ngbDropdownToggle>
                                            <i class="fa fa-bars" aria-hidden="true"></i>
                                        </button>
                                        <div *ngIf="loaded" class="" aria-labelledby="dropdownMenuButton" ngbDropdownMenu>
                                          <a 
                                          class="dropdown-item" 
                                          href="javascript:void(0)"
                                          *ngFor="let answer of userStats?.answers; let i = index;"
                                          (click)="selectAnswer(answer, i)"
                                          [ngClass]="paintSelectedAnswer(answer)"
                                          >{{ answer?.title }}</a>
                                        </div>
                                    </div>

                                    <h2 class="col-11">{{ userStats?.title | uppercase }}</h2>
                                </div>

                            </div>
                        </div>

                        <div class="card-body">
                            <div class="row">
                                <!-- ANSWERS -->
                                <div class="col-4" *ngIf="!toggle">
                                    <ul *ngIf="loaded" class="list-group">
                                        <li 
                                        class="list-group-item" 
                                        *ngFor="let answer of userStats.answers; let i = index;" 
                                        (click)="selectAnswer(answer, i)"
                                        [ngClass]="paintSelectedAnswer(answer)">{{ answer?.title }}</li>
                                    </ul>
                                </div>

                                <!-- ANSWERS CONTENT -->
                                <div id="answers-content" class="col-8">
                                    <app-answer [details]="details" [answers]="answers" [answer]="answer"></app-answer>
                                </div>
                            </div>
                        </div>

                        <div class="row p-3">
                            <div class="col-9 pl-4 my-2 stats">
                                <p class="stats-size" data-toggle="tooltip" data-placement="top" title="Total points" data-container="body" data-animation="true"><span class="stats-weight"><i class="fa fa-star" aria-hidden="true"></i></span> {{ userStats?.correctAnswers | number }} / {{ getTotalPoints(userStats?.correctAnswers!, userStats?.incorrectAnswers!) | number }}</p>
                                <p class="stats-size" data-toggle="tooltip" data-placement="top" title="Player name" data-container="body" data-animation="true"><span class="stats-weight"><i class="fa fa-user" aria-hidden="true"></i></span> {{ userStats?.playerName }} </p>
                                <p class="stats-size" data-toggle="tooltip" data-placement="top" title="Time lapse" data-container="body" data-animation="true"><span class="stats-weight"><i class="fa fa-clock-o" aria-hidden="true"></i></span> {{ userStats?.lapse }}s</p>
                            </div>
                            <div class="col-3">
                                <div class="text-right mr-4">
                                    <button type="button" *ngIf="innerWidth >= 768" class="btn btn-primary my-2" (click)="exit()">EXIT</button>
                                    <button type="button" *ngIf="innerWidth <= 767" class="btn btn-primary btn-sm my-2" (click)="exit()">EXIT</button>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </section>
</main>